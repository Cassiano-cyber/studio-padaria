(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4966],{3573:function(e,t,a){Promise.resolve().then(a.bind(a,78920))},87138:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var r=a(231),n=a.n(r)},16463:function(e,t,a){"use strict";var r=a(71169);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},78920:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var r=a(57437),n=a(2265),i=a(16463),s=a(75735),o=a(89506),l=a(69842),c=a(89733),u=a(48185),d=a(77209),m=a(70402),f=a(87138),p=a(86763),h=a(98604),v=a(38087),x=a(70809),g=a(39630),y=a(87992);let b=e=>(0,r.jsx)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.85 3.18-1.73 4.1-1.02 1.08-2.58 2.03-4.56 2.03-3.86 0-7-3.14-7-7s3.14-7 7-7c1.74 0 3.23.67 4.17 1.57l2.48-2.48C17.23 3.44 15.01 2.5 12.48 2.5c-5.48 0-9.94 4.46-9.94 9.94s4.46 9.94 9.94 9.94c3.03 0 5.4-1.25 7.27-3.14 1.94-1.95 2.58-4.59 2.58-6.91 0-.6-.05-1.19-.15-1.78Z"})});function j(){let[e,t]=(0,n.useState)(""),[a,j]=(0,n.useState)(""),[w,N]=(0,n.useState)(""),[S,E]=(0,n.useState)(!1),[k,A]=(0,n.useState)(!1),[T,C]=(0,n.useState)(null),O=(0,i.useRouter)(),{toast:I}=(0,p.pm)(),{isFirebaseConfigured:_}=(0,g.a)(),R=async t=>{if(t.preventDefault(),o.I8&&o.db){E(!0),C(null);try{let t=(await (0,s.Xb)(o.I8,a,w)).user;await (0,s.ck)(t,{displayName:e}),await (0,l.pl)((0,l.JU)(o.db,"users",t.uid),{uid:t.uid,name:e,email:t.email,role:"client",createdAt:(0,l.Bt)(),loyaltyPoints:0}),I({title:"Conta criada com sucesso!",description:"Voc\xea j\xe1 pode fazer o login."}),O.push("/")}catch(a){let e="Erro ao criar conta",t="Ocorreu um erro inesperado. Por favor, tente novamente.";switch(a.code){case"auth/email-already-in-use":e="Email j\xe1 cadastrado",t="Este endere\xe7o de email j\xe1 est\xe1 sendo usado por outra conta.";break;case"auth/invalid-email":e="Email Inv\xe1lido",t="O formato do endere\xe7o de email n\xe3o \xe9 v\xe1lido.";break;case"auth/weak-password":e="Senha Fraca",t="Sua senha deve ter no m\xednimo 6 caracteres.";break;case"auth/operation-not-allowed":e="Cadastro Desativado",t="O cadastro por Email/Senha n\xe3o est\xe1 habilitado no seu painel do Firebase. V\xe1 em Authentication > Sign-in method para ativ\xe1-lo.";break;case"auth/invalid-api-key":case"auth/invalid-project-id":e="Erro de Configura\xe7\xe3o",t="A chave de API do Firebase \xe9 inv\xe1lida. Verifique a configura\xe7\xe3o no arquivo .env.";break;case"auth/network-request-failed":e="Erro de Rede",t="N\xe3o foi poss\xedvel conectar aos servidores. Verifique sua conex\xe3o com a internet."}I({variant:"destructive",title:e,description:t}),E(!1)}}},M=async()=>{if(o.I8&&o.Vv&&o.db){A(!0),C(null);try{let e=(await (0,s.rh)(o.I8,o.Vv)).user,t=(0,l.JU)(o.db,"users",e.uid);(await (0,l.QT)(t)).exists()||await (0,l.pl)(t,{uid:e.uid,name:e.displayName,email:e.email,role:"client",createdAt:(0,l.Bt)(),loyaltyPoints:0}),I({title:"Login bem-sucedido!",description:"Bem-vindo!"}),O.push("/")}catch(a){console.error("Google Login Error:",a);let e="Erro no Login com Google",t="N\xe3o foi poss\xedvel fazer login com o Google. Tente novamente mais tarde.";switch(a.code){case"auth/operation-not-allowed":e="Login com Google Desativado",t="O login com Google n\xe3o est\xe1 habilitado no seu painel do Firebase. V\xe1 em Authentication > Sign-in method para ativ\xe1-lo.";break;case"auth/popup-closed-by-user":A(!1);return;case"auth/account-exists-with-different-credential":e="Conta j\xe1 existe",t="Uma conta j\xe1 existe com o mesmo e-mail, mas com credenciais diferentes. Tente fazer login com o m\xe9todo original.";break;case"auth/unauthorized-domain":e="Dom\xednio n\xe3o autorizado",t="Este dom\xednio n\xe3o est\xe1 na lista de dom\xednios autorizados. Veja o alerta na tela para instru\xe7\xf5es.",C({title:"A\xe7\xe3o Necess\xe1ria no Firebase",message:"Para corrigir, v\xe1 at\xe9 seu projeto no Firebase > Authentication > Settings > Authorized domains e adicione o seguinte dom\xednio: ".concat(window.location.hostname)});break;case"auth/network-request-failed":e="Erro de Rede",t="N\xe3o foi poss\xedvel conectar aos servidores. Verifique sua conex\xe3o com a internet."}I({variant:"destructive",title:e,description:t}),A(!1)}}};return _?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[calc(100vh-4rem)] bg-background p-4",children:(0,r.jsxs)(u.Zb,{className:"w-full max-w-md mx-auto shadow-lg",children:[(0,r.jsxs)(u.Ol,{className:"text-center",children:[(0,r.jsx)(u.ll,{className:"text-3xl font-headline",children:"Criar Conta"}),(0,r.jsx)(u.SZ,{children:"Cadastre-se para come\xe7ar a pedir seus salgados favoritos"})]}),(0,r.jsxs)(u.aY,{children:[T&&(0,r.jsxs)(y.bZ,{variant:"destructive",className:"mb-4",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4"}),(0,r.jsx)(y.Cd,{children:T.title}),(0,r.jsx)(y.X,{children:T.message})]}),(0,r.jsxs)("form",{onSubmit:R,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m._,{htmlFor:"name",children:"Nome"}),(0,r.jsx)(d.I,{id:"name",type:"text",placeholder:"Seu nome completo",required:!0,value:e,onChange:e=>t(e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m._,{htmlFor:"email",children:"Email"}),(0,r.jsx)(d.I,{id:"email",type:"email",placeholder:"seu@email.com",required:!0,value:a,onChange:e=>j(e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m._,{htmlFor:"password",children:"Senha"}),(0,r.jsx)(d.I,{id:"password",type:"password",required:!0,value:w,onChange:e=>N(e.target.value),minLength:6})]}),(0,r.jsx)(c.z,{type:"submit",className:"w-full",disabled:S||k,children:S?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{className:"mr-2 h-4 w-4 animate-spin"})," Cadastrando..."]}):"Cadastrar"})]}),(0,r.jsxs)("div",{className:"relative my-6",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("span",{className:"w-full border-t"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,r.jsx)("span",{className:"bg-card px-2 text-muted-foreground",children:"Ou cadastre-se com"})})]}),(0,r.jsxs)(c.z,{variant:"outline",className:"w-full",onClick:M,disabled:k||S,children:[(0,r.jsx)(b,{className:"mr-2 h-4 w-4"}),k?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{className:"mr-2 h-4 w-4 animate-spin"})," Aguarde..."]}):"Google"]}),(0,r.jsxs)("div",{className:"mt-4 text-center text-sm",children:["J\xe1 tem uma conta?"," ",(0,r.jsx)(f.default,{href:"/login",className:"underline text-primary",children:"Entrar"})]})]})]})}):(0,r.jsx)(x.s,{})}},77209:function(e,t,a){"use strict";a.d(t,{I:function(){return s}});var r=a(57437),n=a(2265),i=a(49354);let s=n.forwardRef((e,t)=>{let{className:a,type:n,...s}=e;return(0,r.jsx)("input",{type:n,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...s})});s.displayName="Input"},70402:function(e,t,a){"use strict";a.d(t,{_:function(){return c}});var r=a(57437),n=a(2265),i=a(38364),s=a(13027),o=a(49354);let l=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(i.f,{ref:t,className:(0,o.cn)(l(),a),...n})});c.displayName=i.f.displayName},86763:function(e,t,a){"use strict";a.d(t,{pm:function(){return m}});var r=a(2265);let n=0,i=new Map,s=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?s(a):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function u(e){c=o(c,e),l.forEach(e=>{e(c)})}function d(e){let{...t}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>u({type:"DISMISS_TOAST",toastId:a});return u({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=r.useState(c);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},1584:function(e,t,a){"use strict";a.d(t,{F:function(){return i},e:function(){return s}});var r=a(2265);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let a=!1,r=e.map(e=>{let r=n(e,t);return a||"function"!=typeof r||(a=!0),r});if(a)return()=>{for(let t=0;t<r.length;t++){let a=r[t];"function"==typeof a?a():n(e[t],null)}}}}function s(...e){return r.useCallback(i(...e),e)}},38364:function(e,t,a){"use strict";a.d(t,{f:function(){return o}});var r=a(2265),n=a(18676),i=a(57437),s=r.forwardRef((e,t)=>(0,i.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var o=s},18676:function(e,t,a){"use strict";a.d(t,{WV:function(){return d},jH:function(){return m}});var r=a(2265),n=a(54887),i=a(1584),s=a(57437),o=r.forwardRef((e,t)=>{let{children:a,...n}=e,i=r.Children.toArray(a),o=i.find(u);if(o){let e=o.props.children,a=i.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,s.jsx)(l,{...n,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,s.jsx)(l,{...n,ref:t,children:a})});o.displayName="Slot";var l=r.forwardRef((e,t)=>{let{children:a,...n}=e;if(r.isValidElement(a)){let e,s;let o=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.ref:(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.props.ref:a.props.ref||a.ref,l=function(e,t){let a={...t};for(let r in t){let n=e[r],i=t[r];/^on[A-Z]/.test(r)?n&&i?a[r]=(...e)=>{i(...e),n(...e)}:n&&(a[r]=n):"style"===r?a[r]={...n,...i}:"className"===r&&(a[r]=[n,i].filter(Boolean).join(" "))}return{...e,...a}}(n,a.props);return a.type!==r.Fragment&&(l.ref=t?(0,i.F)(t,o):o),r.cloneElement(a,l)}return r.Children.count(a)>1?r.Children.only(null):null});l.displayName="SlotClone";var c=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function u(e){return r.isValidElement(e)&&e.type===c}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let a=r.forwardRef((e,a)=>{let{asChild:r,...n}=e,i=r?o:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(i,{...n,ref:a})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function m(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}},48484:function(e,t,a){"use strict";a.d(t,{f:function(){return c}});var r=a(2265),n=a(18676),i=a(57437),s="horizontal",o=["horizontal","vertical"],l=r.forwardRef((e,t)=>{let{decorative:a,orientation:r=s,...l}=e,c=o.includes(r)?r:s;return(0,i.jsx)(n.WV.div,{"data-orientation":c,...a?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...l,ref:t})});l.displayName="Separator";var c=l},57010:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(6497).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},11541:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(6497).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},38087:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(6497).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},98604:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(6497).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},function(e){e.O(0,[4358,4728,231,7380,4141,1749,2971,7023,1744],function(){return e(e.s=3573)}),_N_E=e.O()}]);