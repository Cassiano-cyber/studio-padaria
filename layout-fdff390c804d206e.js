(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{14389:function(e,t,a){Promise.resolve().then(a.t.bind(a,28953,23)),Promise.resolve().then(a.t.bind(a,3523,23)),Promise.resolve().then(a.t.bind(a,19593,23)),Promise.resolve().then(a.t.bind(a,53054,23)),Promise.resolve().then(a.bind(a,91738)),Promise.resolve().then(a.bind(a,99966)),Promise.resolve().then(a.bind(a,93845)),Promise.resolve().then(a.bind(a,79143)),Promise.resolve().then(a.bind(a,28546)),Promise.resolve().then(a.bind(a,60771)),Promise.resolve().then(a.bind(a,39630)),Promise.resolve().then(a.bind(a,85624)),Promise.resolve().then(a.bind(a,28369)),Promise.resolve().then(a.bind(a,10225))},44379:function(e,t,a){"use strict";a.d(t,{k:function(){return s}}),a(74590);var s=(0,a(58064).$)("9972eb4f0aed687c20fca4adecb9da039ea4532a")},91738:function(e,t,a){"use strict";a.d(t,{DynamicChefComponents:function(){return o}});var s=a(57437),r=a(57818);let n=(0,r.default)(()=>Promise.all([a.e(2033),a.e(3759)]).then(a.bind(a,33759)).then(e=>e.ChefAssistant),{loadableGenerated:{webpack:()=>[33759]},ssr:!1,loading:()=>null}),i=(0,r.default)(()=>a.e(3021).then(a.bind(a,33021)).then(e=>e.ChefOnScreen),{loadableGenerated:{webpack:()=>[33021]},ssr:!1,loading:()=>null});function o(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n,{}),(0,s.jsx)(i,{})]})}},99966:function(e,t,a){"use strict";a.d(t,{default:function(){return h}});var s=a(57437),r=a(33241),n=a(67665),i=a(81475),o=a(50745),l=a(12859),d=a(87138),c=a(89733),u=a(54662),m=a(2265),x=a(89736);let f="https://wa.me/5517996780618?text=Ol%C3%A1%21%20Gostaria%20de%20fazer%20um%20pedido.";function h(){let[e,t]=m.useState(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("footer",{className:"bg-foreground text-background",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 text-center md:text-left",children:[(0,s.jsxs)("div",{className:"md:col-span-1",children:[(0,s.jsx)(d.default,{href:"/",className:"text-3xl font-bold font-headline text-primary",children:"Explos\xe3o Crocante"}),(0,s.jsx)("p",{className:"mt-4 text-sm text-muted-foreground",children:"Salgados artesanais que transformam o comum em extraordin\xe1rio."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4 text-primary",children:"Navegue"}),(0,s.jsxs)("ul",{className:"space-y-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(d.default,{href:"/#inicio",className:"hover:text-secondary transition-colors",children:"In\xedcio"})}),(0,s.jsx)("li",{children:(0,s.jsx)(d.default,{href:"/#manifesto",className:"hover:text-secondary transition-colors",children:"Manifesto"})}),(0,s.jsx)("li",{children:(0,s.jsx)(d.default,{href:"/#cardapio",className:"hover:text-secondary transition-colors",children:"Card\xe1pio"})}),(0,s.jsx)("li",{children:(0,s.jsx)(d.default,{href:"/contact",className:"hover:text-secondary transition-colors",children:"Contato"})}),(0,s.jsx)("li",{children:(0,s.jsx)(d.default,{href:"/resolved-conflicts",className:"hover:text-secondary transition-colors",children:"Conflitos Resolvidos"})}),(0,s.jsx)("li",{children:(0,s.jsx)(d.default,{href:"/careers",className:"hover:text-secondary transition-colors",children:"Trabalhe Conosco"})}),(0,s.jsx)("li",{children:(0,s.jsx)(d.default,{href:"/colaboradores",className:"hover:text-secondary transition-colors",children:"Colaboradores"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4 text-primary",children:"Siga & Participe"}),(0,s.jsx)(x.pn,{children:(0,s.jsxs)("div",{className:"flex justify-center md:justify-start gap-4",children:[(0,s.jsxs)(x.u,{children:[(0,s.jsx)(x.aJ,{asChild:!0,children:(0,s.jsx)(d.default,{href:"https://www.facebook.com/profile.php?id=61572630962138",target:"_blank",rel:"noopener noreferrer","aria-label":"Siga-nos no Facebook",className:"text-background hover:text-secondary transition-transform hover:scale-110",children:(0,s.jsx)(r.Z,{})})}),(0,s.jsx)(x._v,{children:(0,s.jsx)("p",{children:"Siga-nos no Facebook"})})]}),(0,s.jsxs)(x.u,{children:[(0,s.jsx)(x.aJ,{asChild:!0,children:(0,s.jsx)(d.default,{href:"https://www.instagram.com/explosao_crocante_salgaderia/",target:"_blank",rel:"noopener noreferrer","aria-label":"Siga-nos no Instagram",className:"text-background hover:text-secondary transition-transform hover:scale-110",children:(0,s.jsx)(n.Z,{})})}),(0,s.jsx)(x._v,{children:(0,s.jsx)("p",{children:"Siga-nos no Instagram"})})]})]})}),(0,s.jsxs)("div",{id:"footer-loyalty",className:"pt-4 space-y-2 text-left md:text-left",children:[(0,s.jsxs)(u.Vq,{open:e,onOpenChange:t,children:[(0,s.jsx)(u.hg,{asChild:!0,children:(0,s.jsxs)(c.z,{variant:"link",className:"text-secondary p-0 h-auto transition-colors hover:text-primary flex items-center gap-2",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4"}),"Programa de Fidelidade"]})}),(0,s.jsxs)(u.cZ,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(u.fK,{children:[(0,s.jsx)(u.$N,{className:"font-headline text-2xl",children:"Nosso Programa de Fidelidade"}),(0,s.jsx)(u.Be,{children:"Um jeito delicioso de agradecer por voc\xea fazer parte da nossa hist\xf3ria."})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4 text-sm text-muted-foreground",children:[(0,s.jsxs)("p",{children:["A participa\xe7\xe3o \xe9 ",(0,s.jsx)("strong",{children:"autom\xe1tica e gratuita"})," para todos os usu\xe1rios cadastrados!"]}),(0,s.jsxs)("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Acumule Pontos:"})," A cada R$ 1,00 em compras, voc\xea ganha 1 ponto."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Troque por Descontos:"})," A cada 100 pontos acumulados, voc\xea pode resgatar R$ 5,00 de desconto no seu pr\xf3ximo pedido."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Como Funciona:"}),' Seus pontos s\xe3o adicionados \xe0 sua carteira quando seu pedido \xe9 marcado como "Entregue". O bot\xe3o para resgate aparecer\xe1 no seu carrinho quando voc\xea tiver pontos suficientes.']})]}),(0,s.jsx)("p",{className:"font-semibold text-foreground",children:"\xc9 simples assim. Quanto mais voc\xea se delicia, mais vantagens voc\xea ganha!"})]}),(0,s.jsx)(c.z,{type:"button",className:"w-full mt-2",onClick:()=>t(!1),children:"Entendi!"})]})]}),(0,s.jsxs)(c.z,{variant:"link",onClick:()=>{window.dispatchEvent(new Event("resetChefTutorial"))},className:"text-secondary p-0 h-auto transition-colors hover:text-primary flex items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),"Rever tour do Chef"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4 text-primary",children:"Pe\xe7a agora!"}),(0,s.jsx)("a",{href:f,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsxs)(c.z,{variant:"secondary",className:"w-full max-w-xs mx-auto md:mx-0",children:[(0,s.jsx)(l.Z,{className:"mr-2 h-5 w-5"}),"WhatsApp"]})}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(d.default,{href:"/admin",className:"text-sm text-muted-foreground hover:text-secondary transition-colors",children:"Administra\xe7\xe3o"})})]})]}),(0,s.jsxs)("div",{className:"border-t border-border mt-8 pt-6 text-center text-sm text-muted-foreground",children:[(0,s.jsxs)("p",{className:"mb-2",children:["\xa9 ",new Date().getFullYear()," Explos\xe3o Crocante. Todos os direitos reservados."]}),(0,s.jsx)("p",{className:"text-xs",children:"Algumas imagens foram ilustradas com aux\xedlio de IA sob dire\xe7\xe3o criativa pr\xf3pria. O sabor \xe9 100% real."})]})]})}),(0,s.jsx)("a",{href:f,target:"_blank",rel:"noopener noreferrer","aria-label":"Fale conosco pelo WhatsApp",children:(0,s.jsxs)(c.z,{variant:"secondary",className:"fixed bottom-8 right-6 sm:bottom-6 rounded-full h-14 w-14 shadow-lg z-50 flex items-center justify-center animate-pulse",children:[(0,s.jsx)("span",{className:"sr-only",children:"WhatsApp"}),(0,s.jsx)(l.Z,{className:"h-7 w-7"})]})})]})}},93845:function(e,t,a){"use strict";a.d(t,{default:function(){return ev}});var s=a(57437),r=a(87138),n=a(44996),i=a(20530),o=a(67983),l=a(3004),d=a(41352),c=a(24924),u=a(87397),m=a(80032),x=a(45789),f=a(89733),h=a(2265),p=a(86610),g=a(51601),j=a(60926),v=a(52732),N=a(49354);let b=p.fC,y=p.xz;p.ZA,p.Uv,p.Tr,p.Ee,h.forwardRef((e,t)=>{let{className:a,inset:r,children:n,...i}=e;return(0,s.jsxs)(p.fF,{ref:t,className:(0,N.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...i,children:[n,(0,s.jsx)(g.Z,{className:"ml-auto"})]})}).displayName=p.fF.displayName,h.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.tu,{ref:t,className:(0,N.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=p.tu.displayName;let w=h.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,s.jsx)(p.Uv,{children:(0,s.jsx)(p.VY,{ref:t,sideOffset:r,className:(0,N.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});w.displayName=p.VY.displayName;let C=h.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(p.ck,{ref:t,className:(0,N.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...n})});C.displayName=p.ck.displayName,h.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...i}=e;return(0,s.jsxs)(p.oC,{ref:t,className:(0,N.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(p.wU,{children:(0,s.jsx)(j.Z,{className:"h-4 w-4"})})}),r]})}).displayName=p.oC.displayName,h.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(p.Rk,{ref:t,className:(0,N.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(p.wU,{children:(0,s.jsx)(v.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=p.Rk.displayName;let k=h.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(p.__,{ref:t,className:(0,N.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})});k.displayName=p.__.displayName;let A=h.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.Z0,{ref:t,className:(0,N.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});A.displayName=p.Z0.displayName;var z=a(85624),P=a(32226),S=a(13027),R=a(74732);let F=P.fC,Z=P.xz,D=P.x8,E=P.h_,O=h.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(P.aV,{className:(0,N.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});O.displayName=P.aV.displayName;let I=(0,S.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),U=h.forwardRef((e,t)=>{let{side:a="right",className:r,children:n,...i}=e;return(0,s.jsxs)(E,{children:[(0,s.jsx)(O,{}),(0,s.jsxs)(P.VY,{ref:t,className:(0,N.cn)(I({side:a}),r),...i,children:[n,(0,s.jsxs)(P.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(R.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});U.displayName=P.VY.displayName;let T=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,N.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};T.displayName="SheetHeader";let _=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,N.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};_.displayName="SheetFooter";let B=h.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(P.Dx,{ref:t,className:(0,N.cn)("text-lg font-semibold text-foreground",a),...r})});B.displayName=P.Dx.displayName,h.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(P.dk,{ref:t,className:(0,N.cn)("text-sm text-muted-foreground",a),...r})}).displayName=P.dk.displayName;var V=a(39630),q=a(29973),M=a(66648),Y=a(87080),J=a(36044),Q=a(80822),$=a(19847),W=a(38087),H=a(80023);let K=h.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(H.fC,{ref:t,className:(0,N.cn)("relative overflow-hidden",a),...n,children:[(0,s.jsx)(H.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(G,{}),(0,s.jsx)(H.Ns,{})]})});K.displayName=H.fC.displayName;let G=h.forwardRef((e,t)=>{let{className:a,orientation:r="vertical",...n}=e;return(0,s.jsx)(H.gb,{ref:t,orientation:r,className:(0,N.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...n,children:(0,s.jsx)(H.q4,{className:"relative flex-1 rounded-full bg-border"})})});G.displayName=H.gb.displayName;var L=a(16463);a(74590);var X=(0,a(58064).$)("aa2566283ee683d413ee36a4daf2f346d9292b62"),ee=a(37374),et=a(93548);function ea(e){let{cartItems:t}=e,[a,r]=(0,h.useState)([]),[n,i]=(0,h.useState)(!0),{addToCart:o}=(0,z.j)(),l=(0,h.useMemo)(()=>JSON.stringify(t.map(e=>e.id+e.quantity)),[t]);if((0,h.useEffect)(()=>{if(0===t.length){i(!1),r([]);return}(async()=>{i(!0);try{let e=await X({cartItems:t});r(e.recommendations)}catch(e){console.warn("Failed to get smart recommendations:",e),r([])}finally{i(!1)}})()},[l,t]),0===t.length)return null;let d=a.map(e=>({...e,product:(0,ee.lk)(e.productId)})).filter(e=>{let a=t.some(t=>t.id===e.productId);return"fallback"!==e.product.id&&!a});return n?(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-sm text-muted-foreground",children:[(0,s.jsx)(W.Z,{className:"h-4 w-4 animate-spin"}),(0,s.jsx)("span",{children:"Buscando combina\xe7\xf5es perfeitas..."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,s.jsx)("div",{className:"h-24 bg-muted rounded-md animate-pulse"}),(0,s.jsx)("div",{className:"h-24 bg-muted rounded-md animate-pulse"}),(0,s.jsx)("div",{className:"h-24 bg-muted rounded-md animate-pulse"})]})]}):0===d.length?null:(0,s.jsxs)("div",{className:"mt-6 p-4 bg-primary/5 border border-primary/20 rounded-lg",children:[(0,s.jsxs)("h4",{className:"flex items-center gap-2 font-headline text-lg text-primary mb-3",children:[(0,s.jsx)(et.Z,{className:"h-5 w-5"}),"Chef Crocante Recomenda"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-3",children:d.map(e=>{let{productId:t,reasoning:a,product:r}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-md bg-background shadow-sm",children:[(0,s.jsx)("div",{className:"relative aspect-square w-[50px] h-[50px] shrink-0",children:(0,s.jsx)(M.default,{src:r.image,alt:r.name,fill:!0,sizes:"50px",placeholder:"blur",blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",className:"rounded-md object-cover transition-transform duration-500","data-ai-hint":r.dataAiHint})}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)("p",{className:"font-semibold text-sm",children:r.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground italic",children:['"',a,'"']})]}),(0,s.jsxs)(f.z,{size:"sm",variant:"outline",onClick:()=>o(r),children:["+ R$ ",r.price.toFixed(2).replace(".",",")]})]},t)})})]})}var es=a(48185),er=a(81475);function en(e){let{dailySpecial:t}=e,{addDonation:a,cartItems:r}=(0,z.j)();return r.some(e=>"donation-999"===e.id)?(0,s.jsx)("div",{className:"mt-4 p-3 bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg text-center",children:(0,s.jsx)("p",{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Obrigado por sua doa\xe7\xe3o! \uD83D\uDC9B"})}):(0,s.jsx)(es.Zb,{className:"mt-4 bg-accent/10 border-accent/20",children:(0,s.jsx)(es.aY,{className:"p-3",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center text-center sm:text-left gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(er.Z,{className:"h-8 w-8 text-accent"})}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)("p",{className:"font-semibold text-accent-foreground dark:text-white",children:"Espalhe a gentileza!"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Doe um Salgado Surpresa por R$ 9,90 e alegre o dia de algu\xe9m na fila."})]}),(0,s.jsx)(f.z,{variant:"secondary",size:"sm",className:"w-full sm:w-auto mt-2 sm:mt-0",onClick:()=>{a(t)},children:"Sim, quero doar!"})]})})})}var ei=a(34446),eo=a(21513),el=a(28369),ed=a(86763),ec=a(44379),eu=a(89506),em=a(69842);function ex(){let{cartItems:e,removeFromCart:t,updateQuantity:a,cartTotal:r,cartSubtotal:i,collaboratorDiscount:o,cartCount:d,redeemedPoints:c,pointsDiscount:u,applyPointsDiscount:m,removePointsDiscount:x,dailySpecial:p,clearCart:g}=(0,z.j)(),{user:j,isQuickOrderFlow:v,quickOrderCustomerName:N,quickOrderPaymentMethod:b,clearQuickOrder:y}=(0,V.a)(),w=(0,L.useRouter)(),{removeTempOrder:C}=(0,el.y)(),{toast:k}=(0,ed.pm)(),[A,P]=(0,h.useState)(!1),S=async()=>{if(!v||!j||!N||!eu.db||!b){k({variant:"destructive",title:"Erro",description:"Dados do pedido de balc\xe3o est\xe3o incompletos."});return}P(!0);let t=(0,em.JU)((0,em.hJ)(eu.db,"orders")).id,a={paymentIntent:{cartItems:e,cartTotal:r,cartSubtotal:i,collaboratorDiscount:0,redeemedPoints:0,pointsDiscount:0},customerDetails:{name:N,street:"",number:"",complement:"",neighborhood:"",city:"Loja F\xedsica",zipCode:""},userId:j.uid,userName:j.displayName||"Colaborador",deliveryType:"Retirada",paymentMethod:b,tempId:t,deliveryFee:0,isCounterOrder:!0};try{let e=await (0,ec.k)(a);if(e.success)k({title:"Pedido de Balc\xe3o Registrado!",description:"O pedido para ".concat(N," foi adicionado ao painel.")}),g(),y();else throw Error(e.error||"Falha ao registrar o pedido no servidor.")}catch(e){console.error("Failed to create quick order:",e),k({variant:"destructive",title:"Erro ao Registrar Pedido",description:e.message}),C(t)}finally{P(!1)}};return(0,s.jsxs)(U,{className:"flex flex-col w-full sm:max-w-md",children:[(0,s.jsx)(T,{children:(0,s.jsx)(B,{className:"text-2xl font-headline",children:v?"Pedido para: ".concat(N):"Seu Pedido"})}),(0,s.jsx)(q.Z,{}),d>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(K,{className:"flex-grow pr-4 -mr-4",children:[(0,s.jsx)("div",{className:"flex flex-col gap-4 my-4",children:(0,s.jsx)(ei.M,{children:e.map(e=>(0,s.jsxs)(eo.E.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-50,transition:{duration:.2}},className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"relative aspect-square w-20 shrink-0 overflow-hidden rounded-md sm:w-24",children:(0,s.jsx)(M.default,{src:e.image,alt:"Foto de ".concat(e.name),fill:!0,className:"object-cover transition-transform duration-300",sizes:"(max-width: 640px) 80px, 96px",placeholder:"blur",blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=","data-ai-hint":e.dataAiHint})}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)("h3",{className:"font-semibold",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:0===e.price?"Gr\xe1tis":"R$ ".concat("combo"===e.type?e.discountedPrice.toFixed(2).replace(".",","):e.price.toFixed(2).replace(".",","))}),"combo"===e.type&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground line-through",children:["(Original: R$ ",e.originalPrice.toFixed(2).replace(".",","),")"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(f.z,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>a(e.id,e.quantity-1),"aria-label":"Diminuir quantidade de ".concat(e.name),disabled:0===e.price||"donation-999"===e.id,children:(0,s.jsx)(J.Z,{className:"h-4 w-4"})}),(0,s.jsx)("span",{children:e.quantity}),(0,s.jsx)(f.z,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>a(e.id,e.quantity+1),"aria-label":"Aumentar quantidade de ".concat(e.name),disabled:0===e.price||"donation-999"===e.id,children:(0,s.jsx)(Q.Z,{className:"h-4 w-4"})})]})]}),(0,s.jsx)(f.z,{variant:"ghost",size:"icon",onClick:()=>t(e.id),"aria-label":"Remover ".concat(e.name," do carrinho"),children:(0,s.jsx)($.Z,{className:"h-4 w-4 text-destructive"})})]},"".concat(e.id,"-").concat(e.price)))})}),!v&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(()=>{if(!j||!j.loyaltyPoints||j.loyaltyPoints<100)return null;let e=5*Math.floor(j.loyaltyPoints/100);return(0,s.jsxs)("div",{className:"my-4 p-3 bg-accent/10 border border-accent/20 rounded-lg text-center space-y-2",children:[(0,s.jsxs)("p",{className:"text-sm font-semibold text-accent-foreground",children:["Voc\xea tem ",j.loyaltyPoints," pontos!"]}),u>0?(0,s.jsx)(f.z,{variant:"outline",size:"sm",onClick:x,children:"Remover Desconto"}):(0,s.jsxs)(f.z,{variant:"secondary",size:"sm",onClick:m,children:[(0,s.jsx)(Y.Z,{className:"mr-2 h-4 w-4"}),"Resgatar (at\xe9 R$ ",e.toFixed(2).replace(",",".")," OFF)"]})]})},{}),(0,s.jsx)(q.Z,{})]}),(0,s.jsx)(en,{dailySpecial:p}),(0,s.jsx)(q.Z,{}),(0,s.jsx)(ea,{cartItems:e})]}),(0,s.jsx)(_,{className:"mt-auto",children:(0,s.jsxs)("div",{className:"w-full space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-lg",children:[(0,s.jsx)("span",{children:"Subtotal"}),(0,s.jsxs)("span",{children:["R$ ",i.toFixed(2).replace(".",",")]})]}),o>0&&(0,s.jsxs)("div",{className:"flex justify-between text-lg text-green-600",children:[(0,s.jsx)("span",{children:"Desconto Colaborador (25%)"}),(0,s.jsxs)("span",{children:["- R$ ",o.toFixed(2).replace(".",",")]})]}),u>0&&(0,s.jsxs)("div",{className:"flex justify-between text-lg text-green-600",children:[(0,s.jsx)("span",{children:"Desconto por Pontos"}),(0,s.jsxs)("span",{children:["- R$ ",u.toFixed(2).replace(".",",")]})]}),(0,s.jsx)(q.Z,{}),(0,s.jsxs)("div",{className:"flex justify-between font-bold text-xl",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{children:["R$ ",r.toFixed(2).replace(".",",")]})]}),(0,s.jsx)(D,{asChild:!0,children:v?(0,s.jsxs)(f.z,{className:"w-full",size:"lg",onClick:S,disabled:A,children:[A?(0,s.jsx)(W.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(l.Z,{className:"mr-2 h-4 w-4"}),"Finalizar Pedido de Balc\xe3o"]}):(0,s.jsx)(f.z,{className:"w-full",size:"lg",onClick:()=>{0!==e.length&&(sessionStorage.setItem("paymentIntent",JSON.stringify({cartItems:e,cartTotal:r,cartSubtotal:i,collaboratorDiscount:o,redeemedPoints:c,pointsDiscount:u})),w.push("/payment"))},children:"Ir para Pagamento"})})]})})]}):(0,s.jsxs)("div",{className:"flex-grow flex flex-col items-center justify-center text-center",children:[(0,s.jsx)(n.Z,{className:"w-24 h-24 text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:"O carrinho est\xe1 vazio"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Adicione del\xedcias para come\xe7ar."})]})]})}var ef=a(1130),eh=a(9577),ep=a(79512);function eg(){let{setTheme:e}=(0,ep.F)();return(0,s.jsxs)(b,{children:[(0,s.jsx)(y,{asChild:!0,children:(0,s.jsxs)(f.z,{variant:"ghost",size:"icon",children:[(0,s.jsx)(ef.Z,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(eh.Z,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(w,{align:"end",children:[(0,s.jsx)(C,{onClick:()=>e("light"),children:"Claro"}),(0,s.jsx)(C,{onClick:()=>e("dark"),children:"Escuro"}),(0,s.jsx)(C,{onClick:()=>e("system"),children:"Sistema"})]})]})}var ej=a(75735);function ev(){let{cartCount:e}=(0,z.j)(),{user:t}=(0,V.a)(),a=(0,L.useRouter)(),h=(null==t?void 0:t.role)==="admin",p=(null==t?void 0:t.role)==="collaborator",g=async()=>{eu.I8&&await (0,ej.w7)(eu.I8),a.push("/")};return(0,s.jsx)("header",{className:"fixed top-0 left-0 w-full z-50",children:(0,s.jsx)("div",{className:"relative z-50 border-b bg-card",children:(0,s.jsxs)("div",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[(0,s.jsx)(r.default,{href:"/",className:"text-xl sm:text-2xl font-bold font-headline text-primary whitespace-nowrap",children:"Explos\xe3o Crocante"}),(0,s.jsxs)("nav",{className:"hidden md:flex items-center space-x-1",children:[(0,s.jsx)(f.z,{variant:"ghost",asChild:!0,children:(0,s.jsx)(r.default,{href:"/#cardapio",children:"Card\xe1pio"})}),h?(0,s.jsx)(f.z,{variant:"ghost",asChild:!0,children:(0,s.jsx)(r.default,{href:"/admin",children:"Painel Admin"})}):(0,s.jsx)(f.z,{variant:"ghost",asChild:!0,children:(0,s.jsx)(r.default,{href:"/#manifesto",children:"Nossa Hist\xf3ria"})}),!h&&!p&&(0,s.jsx)(f.z,{variant:"ghost",asChild:!0,children:(0,s.jsx)(r.default,{href:"/contact",children:"Contato"})}),(h||p)&&(0,s.jsx)(f.z,{variant:"ghost",asChild:!0,children:(0,s.jsx)(r.default,{href:"/colaborador",children:"Painel Colaborador"})}),t&&(0,s.jsx)(f.z,{variant:"ghost",asChild:!0,children:(0,s.jsx)(r.default,{href:"/orders",children:"Meus Pedidos"})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,s.jsx)(eg,{}),(0,s.jsxs)(F,{children:[(0,s.jsx)(Z,{asChild:!0,children:(0,s.jsxs)(f.z,{variant:"ghost",size:"icon",className:"relative md:variant-default md:size-auto md:px-4 md:py-2 md:bg-primary md:text-primary-foreground md:hover:bg-primary/90",children:[(0,s.jsx)(n.Z,{className:"md:mr-2"}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Fazer Pedido"}),e>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-accent text-white",children:e}),(0,s.jsx)("span",{className:"sr-only",children:"Abrir carrinho de compras"})]})}),(0,s.jsx)(ex,{})]}),(0,s.jsxs)(b,{children:[(0,s.jsx)(y,{asChild:!0,children:(0,s.jsxs)(f.z,{variant:"ghost",size:"icon",children:[(0,s.jsx)(i.Z,{}),(0,s.jsx)("span",{className:"sr-only",children:"Menu de usu\xe1rio"})]})}),(0,s.jsx)(w,{align:"end",className:"w-56",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(k,{children:["Ol\xe1, ",t.displayName||t.email,"!"]}),(0,s.jsx)(A,{}),(0,s.jsx)(C,{asChild:!0,children:(0,s.jsxs)(r.default,{href:"/orders",className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)(n.Z,{className:"h-4 w-4"})," Meus Pedidos"]})}),(0,s.jsxs)(C,{className:"flex items-center gap-2 cursor-pointer focus:bg-transparent select-none",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"})," ",t.loyaltyPoints||0," Pontos"]}),(h||p)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A,{}),(0,s.jsx)(k,{children:"Pain\xe9is"}),(0,s.jsx)(C,{asChild:!0,children:(0,s.jsxs)(r.default,{href:"/colaborador",className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"})," Painel Colaborador"]})})]}),h&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(C,{asChild:!0,children:(0,s.jsxs)(r.default,{href:"/admin",className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4"})," Painel Admin"]})})}),(0,s.jsx)(A,{}),(0,s.jsxs)(C,{onClick:g,className:"flex items-center gap-2 cursor-pointer text-destructive focus:bg-destructive/10 focus:text-destructive",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"})," Sair"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C,{asChild:!0,children:(0,s.jsxs)(r.default,{href:"/login",className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4"})," Entrar"]})}),(0,s.jsx)(C,{asChild:!0,children:(0,s.jsxs)(r.default,{href:"/signup",className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"})," Cadastrar"]})})]})})]}),(0,s.jsxs)(b,{children:[(0,s.jsx)(y,{asChild:!0,children:(0,s.jsxs)(f.z,{variant:"ghost",size:"icon",className:"md:hidden",children:[(0,s.jsx)(x.Z,{}),(0,s.jsx)("span",{className:"sr-only",children:"Abrir menu"})]})}),(0,s.jsxs)(w,{align:"end",children:[(0,s.jsx)(C,{asChild:!0,children:(0,s.jsx)(r.default,{href:"/#cardapio",children:"Card\xe1pio"})}),h?(0,s.jsx)(C,{asChild:!0,children:(0,s.jsx)(r.default,{href:"/admin",children:"Painel Admin"})}):(0,s.jsx)(C,{asChild:!0,children:(0,s.jsx)(r.default,{href:"/#manifesto",children:"Nossa Hist\xf3ria"})}),!h&&!p&&(0,s.jsx)(C,{asChild:!0,children:(0,s.jsx)(r.default,{href:"/contact",children:"Contato"})}),t&&(0,s.jsx)(C,{asChild:!0,children:(0,s.jsx)(r.default,{href:"/orders",children:"Meus Pedidos"})}),(h||p)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A,{}),(0,s.jsx)(k,{children:"Pain\xe9is"}),(0,s.jsx)(C,{asChild:!0,children:(0,s.jsx)(r.default,{href:"/colaborador",children:"Painel Colaborador"})})]}),h&&(0,s.jsx)(C,{asChild:!0,children:(0,s.jsx)(r.default,{href:"/admin",children:"Painel Admin"})})]})]})]})]})})})}},79143:function(e,t,a){"use strict";a.d(t,{default:function(){return u}});var s=a(57437),r=a(89733),n=a(74732),i=a(81475),o=a(2265),l=a(48185),d=a(87138),c=a(39630);function u(){let[e,t]=(0,o.useState)(!1),[a,u]=(0,o.useState)(!1),{user:m}=(0,c.a)(),x=()=>{!a&&e&&(sessionStorage.setItem("loyaltyBannerDismissed_v2","true"),u(!0),setTimeout(()=>{t(!1),u(!1)},500))};return((0,o.useEffect)(()=>{if(m||"true"===sessionStorage.getItem("loyaltyBannerDismissed_v2"))return;let e=setTimeout(()=>{t(!0)},5e3);return()=>{clearTimeout(e)}},[m]),e)?(0,s.jsx)("div",{className:"fixed top-5 left-1/2 -translate-x-1/2 z-[60] w-full max-w-sm sm:max-w-md","data-state":a?"closed":"open",children:(0,s.jsxs)(l.Zb,{className:"shadow-2xl border-2 border-primary/20 animate-in fade-in-0 slide-in-from-top-full duration-500 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-full",children:[(0,s.jsxs)(r.z,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-7 w-7",onClick:x,"aria-label":"Fechar notifica\xe7\xe3o de fidelidade",children:[(0,s.jsx)(n.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Fechar"})]}),(0,s.jsxs)(l.Ol,{className:"flex-row items-center gap-4 space-y-0 pr-10",children:[(0,s.jsx)(i.Z,{className:"h-10 w-10 text-primary flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.ll,{className:"font-headline text-xl",children:"Novo Programa de Fidelidade!"}),(0,s.jsx)(l.SZ,{children:"Agora suas compras viram pontos para trocar por descontos. Fa\xe7a login e confira!"})]})]}),(0,s.jsx)(l.aY,{className:"pt-0 pb-4",children:(0,s.jsx)(r.z,{className:"w-full",asChild:!0,children:(0,s.jsx)(d.default,{href:"#footer-loyalty",onClick:x,children:"Quero Saber Mais"})})})]})}):null}},28546:function(e,t,a){"use strict";a.d(t,{ThemeProvider:function(){return n}});var s=a(57437);a(2265);var r=a(79512);function n(e){let{children:t,...a}=e;return(0,s.jsx)(r.f,{...a,children:t})}},89733:function(e,t,a){"use strict";a.d(t,{d:function(){return l},z:function(){return d}});var s=a(57437),r=a(2265),n=a(63355),i=a(13027),o=a(49354);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:r,size:i,className:a})),ref:t,...c})});d.displayName="Button"},48185:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},eW:function(){return u},ll:function(){return l}});var s=a(57437),r=a(2265),n=a(49354);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});o.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});l.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},29973:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var s=a(57437),r=a(2265),n=a(48484),i=a(49354);let o=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:o=!0,...l}=e;return(0,s.jsx)(n.f,{ref:t,decorative:o,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...l})});o.displayName=n.f.displayName},60771:function(e,t,a){"use strict";a.d(t,{Toaster:function(){return g}});var s=a(57437),r=a(86763),n=a(2265),i=a(44504),o=a(13027),l=a(74732),d=a(49354);let c=i.zt,u=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.l_,{ref:t,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...r})});u.displayName=i.l_.displayName;let m=(0,o.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),x=n.forwardRef((e,t)=>{let{className:a,variant:r,...n}=e;return(0,s.jsx)(i.fC,{ref:t,className:(0,d.cn)(m({variant:r}),a),...n})});x.displayName=i.fC.displayName,n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.aU,{ref:t,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...r})}).displayName=i.aU.displayName;let f=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.x8,{ref:t,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...r,children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})});f.displayName=i.x8.displayName;let h=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.Dx,{ref:t,className:(0,d.cn)("text-sm font-semibold",a),...r})});h.displayName=i.Dx.displayName;let p=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.dk,{ref:t,className:(0,d.cn)("text-sm opacity-90",a),...r})});function g(){let{toasts:e}=(0,r.pm)();return(0,s.jsxs)(c,{children:[e.map(function(e){let{id:t,title:a,description:r,action:n,...i}=e;return(0,s.jsxs)(x,{...i,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[a&&(0,s.jsx)(h,{children:a}),r&&(0,s.jsx)(p,{children:r})]}),n,(0,s.jsx)(f,{})]},t)}),(0,s.jsx)(u,{})]})}p.displayName=i.dk.displayName},89736:function(e,t,a){"use strict";a.d(t,{_v:function(){return c},aJ:function(){return d},pn:function(){return o},u:function(){return l}});var s=a(57437),r=a(2265),n=a(60364),i=a(49354);let o=n.zt,l=n.fC,d=n.xz,c=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...o}=e;return(0,s.jsx)(n.VY,{ref:t,sideOffset:r,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})});c.displayName=n.VY.displayName},39630:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return d},a:function(){return c}});var s=a(57437),r=a(2265),n=a(75735),i=a(89506),o=a(69842);let l=(0,r.createContext)({user:null,loading:!0,isFirebaseConfigured:!1,isQuickOrderFlow:!1,quickOrderCustomerName:null,quickOrderPaymentMethod:null,setQuickOrderInfo:()=>{},clearQuickOrder:()=>{}}),d=e=>{let{children:t}=e,[a,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),[m,x]=(0,r.useState)(!1),[f,h]=(0,r.useState)(null),[p,g]=(0,r.useState)(null),j=!!i.I8,v=()=>{sessionStorage.removeItem("quickOrderInfo"),x(!1),h(null),g(null)};return(0,r.useEffect)(()=>{let e=sessionStorage.getItem("quickOrderInfo");if(e)try{let t=JSON.parse(e);t.isQuickOrder&&(x(!0),h(t.customerName),g(t.paymentMethod))}catch(e){v()}else x(!1),h(null),g(null)},[]),(0,r.useEffect)(()=>{if(!j){u(!1);return}let e="lttkdWEkN5aXQnxwpVxe1EKoVP72".split(",").map(e=>e.trim()),t=(0,n.Aj)(i.I8,async t=>{if(!t){d(null),u(!1);return}u(!0);let a=t.uid,s=e.includes(a)?"admin":"client",r=(0,o.JU)(i.db,"users",a);try{let i;let c=await (0,o.QT)(r);if(c.exists()){var n,l;let d=c.data();"collaborator"===d.role&&(s="collaborator"),e.includes(a)&&"admin"!==d.role&&(s="admin",await (0,o.pl)(r,{role:s},{merge:!0})),i={...t,role:(null==d?void 0:d.role)||s,loyaltyPoints:null!==(n=null==d?void 0:d.loyaltyPoints)&&void 0!==n?n:0,hasBeenWelcomedForPoints:null!==(l=null==d?void 0:d.hasBeenWelcomedForPoints)&&void 0!==l&&l}}else{let e={uid:a,name:t.displayName,email:t.email,role:s,createdAt:(0,o.Bt)(),loyaltyPoints:0,hasBeenWelcomedForPoints:!1};await (0,o.pl)(r,e),i={...t,role:s,loyaltyPoints:0,hasBeenWelcomedForPoints:!1}}d(i)}catch(e){console.error("Erro ao obter/criar documento do usu\xe1rio:",e),d({...t,role:"client",loyaltyPoints:0,hasBeenWelcomedForPoints:!1})}finally{u(!1)}});return()=>t()},[j]),(0,s.jsx)(l.Provider,{value:{user:a,loading:c,isFirebaseConfigured:j,isQuickOrderFlow:m,quickOrderCustomerName:f,quickOrderPaymentMethod:p,setQuickOrderInfo:e=>{let t={isQuickOrder:!0,customerName:e.customerName,paymentMethod:e.paymentMethod};sessionStorage.setItem("quickOrderInfo",JSON.stringify(t)),x(!0),h(e.customerName),g(e.paymentMethod)},clearQuickOrder:v},children:t})},c=()=>{let e=(0,r.useContext)(l);if(!e)throw Error("useAuth deve ser usado dentro de um AuthProvider");return e}},28369:function(e,t,a){"use strict";a.d(t,{OrderProvider:function(){return i},y:function(){return o}});var s=a(57437),r=a(2265);let n=(0,r.createContext)(void 0),i=e=>{let{children:t}=e,[a,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{i([])},[]);let o=(0,r.useCallback)(e=>{let t={...e,isTemp:!0};i(e=>[t,...e])},[]),l=(0,r.useCallback)(e=>{i(t=>t.filter(t=>t.id!==e))},[]);return(0,s.jsx)(n.Provider,{value:{tempOrders:a,addTempOrder:o,removeTempOrder:l},children:t})},o=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("useOrders must be used within an OrderProvider");return e}},10225:function(e,t,a){"use strict";a.d(t,{StockProvider:function(){return m},_:function(){return x}});var s=a(57437),r=a(2265),n=a(89506),i=a(69842),o=a(37374),l=a(39630);let d=(0,r.createContext)(void 0),c=()=>{let e={};return o.RB.forEach(t=>{e[t.id]=!0}),e},u="stock/status",m=e=>{let{children:t}=e,[a,o]=(0,r.useState)(c),[m,x]=(0,r.useState)(!0),{user:f,isFirebaseConfigured:h}=(0,l.a)();(0,r.useEffect)(()=>{if(!h||!n.db){x(!1),console.warn("StockProvider: Firestore is not configured. Using default stock state.");return}let e=(0,i.JU)(n.db,u),t=(0,i.cf)(e,async t=>{let a=c();try{(await (0,i.PL)((0,i.hJ)(n.db,"products"))).forEach(e=>{a[e.id]=!0})}catch(e){console.warn("Could not fetch dynamic products for stock, using static list.")}if(t.exists()){let e=t.data();o(t=>({...a,...t,...e}))}else(null==f?void 0:f.role)==="admin"&&(0,i.pl)(e,a).catch(e=>{console.error("Failed to initialize stock document:",e)});x(!1)},e=>{console.error("Error listening to stock updates:",e),x(!1)});return()=>t()},[h,null==f?void 0:f.role]);let p=(0,r.useCallback)(async e=>{var t;if(!n.db||(null==f?void 0:f.role)!=="admin"){console.error("Unauthorized attempt to change stock status.");return}let s={...a,[e]:!(null===(t=a[e])||void 0===t||t)};o(s);try{let t=(0,i.JU)(n.db,u);await (0,i.pl)(t,{[e]:s[e]},{merge:!0})}catch(e){console.error("Failed to update stock status in Firestore:",e),o(a)}},[a,null==f?void 0:f.role]),g=(0,r.useCallback)(e=>{var t;return!!m||null===(t=a[e])||void 0===t||t},[a,m]);return(0,s.jsx)(d.Provider,{value:{stock:a,toggleStockStatus:p,isAvailable:g,loading:m},children:t})},x=()=>{let e=(0,r.useContext)(d);if(void 0===e)throw Error("useStock must be used within a StockProvider");return e}},89506:function(e,t,a){"use strict";a.d(t,{I8:function(){return d},Vv:function(){return m},db:function(){return c},tO:function(){return u}});var s=a(15236),r=a(75735),n=a(69842),i=a(99854);let o={apiKey:"AIzaSyCWCNP5i-IZVBPPC3ssBBZjoiyy5egVwgg",authDomain:"ordem-rpida.firebaseapp.com",projectId:"ordem-rpida",storageBucket:"ordem-rpida.firebasestorage.app",messagingSenderId:"759373115972",appId:"1:759373115972:web:f9ac9aafff35e495510211"},l=o.apiKey?(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)(o):null,d=l?(0,r.v0)(l):null,c=l?(0,n.ad)(l):null,u=l?(0,i.cF)(l):null,m=l?new r.hJ:null},49354:function(e,t,a){"use strict";a.d(t,{Wy:function(){return i},cn:function(){return n},mz:function(){return l},yp:function(){return o}});var s=a(44839),r=a(96164);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));let a=new Date(Date.UTC(t.getUTCFullYear(),0,1)),s=Math.ceil(((t.getTime()-a.getTime())/864e5+1)/7);return"".concat(t.getUTCFullYear(),"-").concat(String(s).padStart(2,"0"))}function o(){let e=new Date;return i(new Date(e.getFullYear(),e.getMonth(),e.getDate()+7))}function l(e){try{let[t,a]=e.split("-").map(Number);if(!t||!a)throw Error("Invalid weekId format");let s=new Date(Date.UTC(t,0,1+(a-1)*7)),r=s.getUTCDay()||7;s.setUTCDate(s.getUTCDate()+1-r);let n=new Date(s),i=new Date(s);i.setUTCDate(s.getUTCDate()+6);let o=n.getUTCDate(),l=i.getUTCDate(),d="".concat(String(o).padStart(2,"0"),"/").concat(String(n.getUTCMonth()+1).padStart(2,"0")),c="".concat(String(l).padStart(2,"0"),"/").concat(String(i.getUTCMonth()+1).padStart(2,"0"));return"(Produto v\xe1lido de ".concat(d," a ").concat(c,")")}catch(t){return console.error("Error formatting week date range:",t),"(Semana ".concat(e,")")}}},53054:function(){}},function(e){e.O(0,[481,4358,4728,231,7380,4141,8173,8007,8609,8803,3842,4805,7374,2376,2971,7023,1744],function(){return e(e.s=14389)}),_N_E=e.O()}]);